name: Upload pypi package release

on: 
  release:
    types: [created,push]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    # - uses: actions/checkout@v2
    # - name: Set up Python
    #   uses: actions/setup-python@v2
    #   with:
    #     python-version: '3.x'
    # - name: Install dependencies
    #   run: |
    #     # python -m pip install --upgrade pip
    #     # pip install setuptools wheel twine
    #     pipenv shell
    #     pipenv install --dev twine
    # - name: Build
    #   run: |
    #     #python setup.py sdist bdist_wheel
    #     python3 setup.py sdist --formats=zip
    #     #twine upload dist/*
    - name: Publish a Python distribution to PyPI
      uses: pypa/gh-action-pypi-publish@master
      with:
        user: __token__
        password: ${{ secrets.PYPI_API_TOKEN }}


# NOTE : Util now
# modify ```version``` parameter in setup.cfg.

# ```
# version = 
# ```

# ```
# pipenv shell
# pipenv install --dev twine
# python3 setup.py sdist --formats=zip
# twine upload dist/*
# ```
